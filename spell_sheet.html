<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="../utils/logo.png">
    <title>Spell Sheet - D&D 5e</title>
    <link rel="stylesheet" href="spell_sheet_style.css">
    <link rel="stylesheet" href="spell_sheet_regras_style.css">
</head>
<body>
    <!-- LIVRO FECHADO -->
    <div class="livro-fechado" id="livroFechado">
        <div class="capa-conteudo">
            <div class="capa-titulo">SPELL SHEET</div>
            <div class="capa-simbolo">
                <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="goldGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#ffd700;stop-opacity:1" />
                            <stop offset="50%" style="stop-color:#ffed4e;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#d4af37;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                    <circle cx="100" cy="100" r="90" fill="none" stroke="url(#goldGradient)" stroke-width="3"/>
                    <path d="M100,20 L120,80 L180,85 L130,120 L145,180 L100,145 L55,180 L70,120 L20,85 L80,80 Z" 
                          fill="none" stroke="url(#goldGradient)" stroke-width="2.5"/>
                    <circle cx="100" cy="100" r="50" fill="none" stroke="url(#goldGradient)" stroke-width="2"/>
                    <text x="100" y="110" font-family="serif" font-size="40" fill="url(#goldGradient)" 
                          text-anchor="middle" font-weight="bold">‚ú¶</text>
                </svg>
            </div>
            <div class="capa-subtitulo">Minhas Magias</div>
        </div>
        <div class="capa-instrucao">‚ú¶ Clique para abrir ‚ú¶</div>
    </div>

    <!-- LIVRO ABERTO -->
    <div class="livro-aberto" id="livroAberto">
        <!-- Cabe√ßalho -->
        <div class="header">
            <div class="personagem-info">
                <input type="text" id="nomePersonagem" placeholder="Nome do Personagem" class="input-personagem">
                <input type="text" id="classePersonagem" placeholder="Classe" class="input-classe">
                <input type="number" id="nivelPersonagem" placeholder="N√≠vel" class="input-nivel" min="1" max="20">
            </div>
            <div class="acoes">
                <button class="btn btn-adicionar" id="btnAdicionar">+ Adicionar Magia</button>
                <button class="btn btn-regras" id="btnRegras">üìñ Regras de Magia</button>
                <a href="index.html" style="text-decoration: none;">
                    <button class="btn btn-grimorio">üìñ Voltar ao Grim√≥rio</button>
                </a>
                <button class="btn btn-fechar" id="btnFechar">‚úï Fechar</button>
            </div>
        </div>

        <!-- Filtros -->
        <div class="controles">
            <div class="filtro-grupo">
                <label>Buscar</label>
                <input type="text" id="buscarMagia" placeholder="Nome da magia...">
            </div>
            <div class="filtro-grupo">
                <label>N√≠vel</label>
                <select id="filtroNivel">
                    <option value="">Todos</option>
                    <option value="0">Truques</option>
                    <option value="1">N√≠vel 1</option>
                    <option value="2">N√≠vel 2</option>
                    <option value="3">N√≠vel 3</option>
                    <option value="4">N√≠vel 4</option>
                    <option value="5">N√≠vel 5</option>
                    <option value="6">N√≠vel 6</option>
                    <option value="7">N√≠vel 7</option>
                    <option value="8">N√≠vel 8</option>
                    <option value="9">N√≠vel 9</option>
                </select>
            </div>
            <div class="filtro-grupo">
                <label>Escola</label>
                <select id="filtroEscola">
                    <option value="">Todas</option>
                    <option value="Abjura√ß√£o">Abjura√ß√£o</option>
                    <option value="Adivinha√ß√£o">Adivinha√ß√£o</option>
                    <option value="Conjura√ß√£o">Conjura√ß√£o</option>
                    <option value="Encantamento">Encantamento</option>
                    <option value="Evoca√ß√£o">Evoca√ß√£o</option>
                    <option value="Ilus√£o">Ilus√£o</option>
                    <option value="Necromancia">Necromancia</option>
                    <option value="Transmuta√ß√£o">Transmuta√ß√£o</option>
                </select>
            </div>
        </div>

        <!-- Grid de Magias -->
        <div class="magias-grid" id="magiasGrid">
            <div class="mensagem-vazia">
                <p>Sua folha de magias est√° em branco.</p>
                <p>Clique em "Adicionar Magia" para come√ßar!</p>
            </div>
        </div>
    </div>

    <!-- Modal Adicionar Magia -->
    <div class="modal" id="modal">
        <div class="modal-conteudo-grande">
            <div class="modal-header">
                <h2 class="modal-titulo">Adicionar Magias do Grim√≥rio</h2>
                <button class="btn-fechar-modal" id="btnFecharModal">√ó</button>
            </div>
            
            <!-- Filtros do Modal -->
            <div class="modal-filtros">
                <div class="filtro-grupo">
                    <label>Buscar Magia</label>
                    <input type="text" id="modalBuscar" placeholder="Digite o nome da magia...">
                </div>
                <div class="filtro-grupo">
                    <label>Classe</label>
                    <select id="modalClasse">
                        <option value="">Todas as Classes</option>
                        <option value="bardo">Bardo</option>
                        <option value="bruxo">Bruxo</option>
                        <option value="clerigo">Cl√©rigo</option>
                        <option value="druida">Druida</option>
                        <option value="feiticeiro">Feiticeiro</option>
                        <option value="mago">Mago</option>
                        <option value="paladino">Paladino</option>
                        <option value="patrulheiro">Patrulheiro</option>
                    </select>
                </div>
                <div class="filtro-grupo">
                    <label>N√≠vel</label>
                    <select id="modalNivel">
                        <option value="">Todos os N√≠veis</option>
                        <option value="truques_nivel_0">Truques (N√≠vel 0)</option>
                        <option value="nivel_1">N√≠vel 1</option>
                        <option value="nivel_2">N√≠vel 2</option>
                        <option value="nivel_3">N√≠vel 3</option>
                        <option value="nivel_4">N√≠vel 4</option>
                        <option value="nivel_5">N√≠vel 5</option>
                        <option value="nivel_6">N√≠vel 6</option>
                        <option value="nivel_7">N√≠vel 7</option>
                        <option value="nivel_8">N√≠vel 8</option>
                        <option value="nivel_9">N√≠vel 9</option>
                    </select>
                </div>
                <div class="filtro-grupo">
                    <label>Escola</label>
                    <select id="modalEscola">
                        <option value="">Todas as Escolas</option>
                        <option value="abjura√ß√£o">Abjura√ß√£o</option>
                        <option value="adivinha√ß√£o">Adivinha√ß√£o</option>
                        <option value="conjura√ß√£o">Conjura√ß√£o</option>
                        <option value="encantamento">Encantamento</option>
                        <option value="evoca√ß√£o">Evoca√ß√£o</option>
                        <option value="ilus√£o">Ilus√£o</option>
                        <option value="necromancia">Necromancia</option>
                        <option value="transmuta√ß√£o">Transmuta√ß√£o</option>
                    </select>
                </div>
            </div>

            <!-- Lista de Magias Dispon√≠veis -->
            <div class="magias-disponiveis" id="magiasDisponiveis">
                <p class="loading-msg">Carregando magias...</p>
            </div>

            <!-- Bot√µes do Modal -->
            <div class="modal-acoes">
                <button class="btn btn-cancelar" id="btnCancelar">Cancelar</button>
                <button class="btn btn-salvar" id="btnSalvarSelecionadas">
                    Adicionar Selecionadas (<span id="contadorSelecionadas">0</span>)
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de Regras -->
    <div class="modal" id="modalRegras">
        <div class="modal-conteudo-grande modal-regras">
            <div class="modal-header">
                <h2 class="modal-titulo">üìñ Manual de Regras de Magia</h2>
                <button class="btn-fechar-modal" id="btnFecharModalRegras">√ó</button>
            </div>
            
            <div class="regras-conteudo" id="regrasConteudo">
                <p class="loading-msg">Carregando regras...</p>
            </div>
        </div>
    </div>

    <!-- Modal de Regra Espec√≠fica (Tooltip) -->
    <div class="modal-tooltip" id="modalTooltip">
        <div class="tooltip-box">
            <div class="tooltip-header">
                <h3 class="tooltip-titulo" id="tooltipTitulo">Regra</h3>
                <button class="btn-fechar-tooltip" id="btnFecharTooltip">√ó</button>
            </div>
            <div class="tooltip-conteudo" id="tooltipConteudo">
                <!-- Conte√∫do din√¢mico -->
            </div>
        </div>
    </div>

    <!-- Modal de Confirma√ß√£o -->
    <div class="modal-confirmacao" id="modalConfirmacao">
        <div class="confirmacao-box">
            <div class="confirmacao-icone">‚úì</div>
            <div class="confirmacao-titulo">Magias Adicionadas!</div>
            <div class="confirmacao-texto">
                <span id="numeroMagias">0</span> magia(s) adicionada(s) com sucesso √† sua spell sheet.
            </div>
            <button class="btn-confirmacao-ok" id="btnConfirmacaoOk">OK</button>
        </div>
    </div>

    <script src="spell_sheet_script.js"></script>
</body>
</html>